<main class="flex-1 px-4 md:px-10 lg:px-40 py-8 flex justify-center">
    <div class="flex flex-col max-w-[960px] flex-1 gap-6">
      
      <!-- Title Area -->
      <div class="flex flex-wrap justify-between items-end gap-3 px-4 mb-2">
        <div class="flex min-w-72 flex-col gap-2">
          <h1 class="text-[#181111] dark:text-white text-4xl font-black leading-tight tracking-tight">My Profile</h1>
          <p class="text-[#8a6060] dark:text-[#dcbaba] text-base font-normal">Manage your personal information, privacy settings, and wellness journey.</p>
        </div>
        <button class="bg-white dark:bg-[#3a2d2d] text-[#181111] dark:text-white border border-[#e6dbdb] dark:border-[#4a3d3d] h-10 px-4 rounded-lg text-sm font-bold shadow-sm hover:bg-gray-50 dark:hover:bg-[#4a3d3d] transition-colors">
          View Public Profile
        </button>
      </div>

      <!-- Profile Overview Card -->
      <app-profile-overview [profile]="profile()"></app-profile-overview>

      <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
        <!-- Left Column: Settings -->
        <div class="lg:col-span-2 flex flex-col gap-6">
          <app-privacy-section 
            [profile]="profile()" 
            (profileChange)="updateProfile($event)"
          ></app-privacy-section>
          
          <app-basic-details-section 
            [profile]="profile()" 
            (profileChange)="updateProfile($event)"
          ></app-basic-details-section>
        </div>

        <!-- Right Column: Wellness Context -->
        <div class="lg:col-span-1">
          <app-your-story-section 
            [profile]="profile()" 
            (profileChange)="updateProfile($event)"
          ></app-your-story-section>
        </div>
      </div>

      <app-sticky-footer 
        [lastSaved]="lastSaved()" 
        [isSaving]="isSaving()"
        (save)="handleSave()" 
        (cancel)="handleCancel()"
      ></app-sticky-footer>
    </div>
  </main>